<!DOCTYPE html>
<html>
	<head>
		<title>Manual for Pandas (Diskrete sannsynlighetsfordelinger.ipynb)</title>
		<meta charset="utf-8">
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<link rel="stylesheet" href="../style.css">
		
		<!-- Load mathjax -->
		<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
		<!-- MathJax configuration -->
		<script type="text/x-mathjax-config">
			MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [ ['$','$'], ["\\(","\\)"] ],
				displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
				processEscapes: true,
				processEnvironments: true
			},
			// Center justify equations in code and markdown cells. Elsewhere
			// we use CSS to left justify single line equations in code cells.
			displayAlign: 'center',
			"HTML-CSS": {
				styles: {'.MathJax_Display': {"margin": 0}},
				linebreaks: { automatic: true }
			}
			});
		</script>
		<!-- End of mathjax configuration -->
	</head>

	<body>
	<div id="fb-root"></div>
	<script>
		(function(d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) return;
			js = d.createElement(s); js.id = id;
			js.src = "//connect.facebook.net/nb_NO/sdk.js#xfbml=1&version=v2.5&appId=1522191924744326";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>

	<div class="container-fluid">
		<div class="row">
			<div class="col-md-3 menu">
				<h3>
					MA-155 Manual for Pandas
				</h3>

				<hr>

				<nav class="list-group">
					<h4 class="list-group-item">Navigasjon</h4>
					<a class="list-group-item" href="introduksjon-og-installasjon.html">Introduksjon og installasjon</a>
<a class="list-group-item" href="bruk-av-jupyter.html">Bruk av Jupyter</a>
<a class="list-group-item" href="python.html">Introduksjon til Python</a>
<a class="list-group-item" href="frekvenstabell-og-diagram.html">Frekvenstabell og -diagram</a>
<a class="list-group-item" href="kovarians-og-korrelasjon.html">Kovarians og korrelasjon</a>
<a class="list-group-item" href="grupperte-data.html">Grupperte data</a>
<a class="list-group-item" href="lineaer-regresjon.html">Lineær regresjon</a>
<a class="list-group-item" href="mengdelaere.html">Mengdelære</a>
<a class="list-group-item" href="sannsynlighet.html">Sannsynlighet</a>
<a class="list-group-item" href="grunnleggende-bayes.html">Grunnleggende Bayes</a>
<a class="list-group-item active" href="diskrete-sannsynlighetsfordelinger.html">Diskrete sannsynlighetsfordelinger</a>
				</nav>

				<hr>

				<a href="../notebooks/Diskrete sannsynlighetsfordelinger.ipynb" class="btn btn-primary btn-block">
					Last ned kapittel som notebook<br/>
					<small>(Diskrete sannsynlighetsfordelinger.ipynb)</small>
				</a>
			</div>
			<section class="col-md-9 content">
				
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Diskrete-sannsynlighetsfordelinger">Diskrete sannsynlighetsfordelinger<a class="anchor-link" href="#Diskrete-sannsynlighetsfordelinger">&#182;</a></h1><p>Nå skal vi se på noen diskrete sannsynlighetsfordelinger. Vi starter med binomisk fordeling. Scipy sin stats-modul inneholder ferdig funksjonalitet for denne, og <a href="https://docs.scipy.org/doc/scipy-0.16.1/reference/stats.html#discrete-distributions">mange andre diskrete fordelinger</a>.</p>
<h2 id="Binomisk-sannsynlighetsfordeling">Binomisk sannsynlighetsfordeling<a class="anchor-link" href="#Binomisk-sannsynlighetsfordeling">&#182;</a></h2><p>La oss si at vi har en bøyd mynt som har 60% sjanse for kron. Vi kaster den 10 ganger. Hva er sannsynligheten for at vi får 0, 1, 2 eller 3 kron?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">binom</span> <span class="c"># Importerer / henter inn binom (Binomisk fordeling)</span>

<span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">p</span> <span class="o">=</span> <span class="mf">0.6</span>

<span class="n">mynt_kron</span> <span class="o">=</span> <span class="n">binom</span><span class="o">.</span><span class="n">pmf</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>

<span class="n">mynt_kron</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Her bruker vi "pmf"-metoden til binom-fordelingen. PMF står for "Probability Mass Function". Vi sier at vi vil ha sannsynligheten for 0, 1, 2 og 3 kron (første parameter), med 10 kast (andre parameter). Hvert kast er uavhengig av tidligere kast, og har 60% (0.6) sjanse for kron.</p>
<p>Vi ser at vi får tilbake en liste. Første verdi er sannsynligheten for 0 kron, andre verdi for 1 kron osv. Hvis vi vil ha summen av sannsynlighetene, bruker vi "sum"-funksjonen til Python, slik:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">sum</span><span class="p">(</span><span class="n">mynt_kron</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Vi ser dermed at det er ca 5.5% sjanse for at vi får 0, 1, 2 eller 3 kron på 10 kast, med denne bøyde mynten.</p>
<p>Videre kan vi også finne variansen til en binomisk fordeling, ved å bruke "var"-funksjonen til "binom". Her er parameterne 10 og 0.6 hhv. antall kast, og sannsynlighet for kron.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span><span class="p">(</span><span class="s">&#39;Varians:&#39;</span><span class="p">,</span> <span class="n">binom</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Forventning:&#39;</span><span class="p">,</span> <span class="n">n</span> <span class="o">*</span> <span class="n">p</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Plotting-av-sannsynlighetsfordeling">Plotting av sannsynlighetsfordeling<a class="anchor-link" href="#Plotting-av-sannsynlighetsfordeling">&#182;</a></h3><p>Vi kan plotte sannsynlighetsfordelingen ved å hente inn Series-objektet fra Pandas. Vi bruker "binom", som tidligere, men nå henter vi verdier for hele intervallet vi er interesserte i.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">pandas</span> <span class="k">import</span> <span class="n">Series</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c"># Som over, men her henter vi for alle de diskrete verdiene, ikke bare 0, 1, 2, 3</span>
<span class="n">mynt_alle</span> <span class="o">=</span> <span class="n">binom</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="c"># range(n+1) gir oss en liste med n elementer [0, ... n]</span>

<span class="c"># Lage en Pandas-serie med datapunktene</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">mynt_alle</span><span class="p">)</span>

<span class="c"># Plotte fordelingen som et stolpediagram</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Hypergeometrisk-sannsynlighetsfordeling">Hypergeometrisk sannsynlighetsfordeling<a class="anchor-link" href="#Hypergeometrisk-sannsynlighetsfordeling">&#182;</a></h2><p>Alle de diskrete sannsynlighetsfordelingene i scipy.stats-modulen brukes på en ganske tilsvarende måte. Vi gir dem noen parametere inn i fordelingens "pmf"-funksjon. Man har også tilgang til f.eks. varians og standardavvik på en tilsvarende måte som i den binomiske sannsynlighetsfordelingen vi brukte over.</p>
<p>Vi skal nå se på den hypergeometriske sannsynlighetsfordelingen.</p>
<p>Eksempel: Vi har en blandingspose med peanøtter og cashewnøtter. Det er 20 peanøtter og 10 cashewnøtter igjen. Du snur posen opp ned, og det ramler ut åtte nøtter. Selv om peanøtter og cashewnøtter har litt ulik form, regner vi med at dette ikke har noen innvirkning på hva som faller ut av posen.</p>
<p>Hva er sannsynligheten for å færre enn tre cashewnøtter?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">hypergeom</span>

<span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">S</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">30</span>

<span class="n">notter</span> <span class="o">=</span> <span class="n">hypergeom</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="nb">sum</span><span class="p">(</span><span class="n">notter</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Altså rett over 45% sjanse. Som i forrige eksempel, kan vi også lage en figur med denne fordelingen.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">notter_alle</span> <span class="o">=</span> <span class="n">hypergeom</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">N</span><span class="p">,</span> <span class="n">S</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">notter_alle</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Poisson">Poisson<a class="anchor-link" href="#Poisson">&#182;</a></h2><p>Du skal på innebandykamp, og får vite at det scores i gjennomsnitt 12 mål per kamp. Hva er sannsynligheten for at det scores færre enn 8 mål i den kampen du skal på?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">poisson</span>

<span class="n">xs</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="c"># [0 ... 8] inklusiv 0 og 8</span>
<span class="n">maal</span> <span class="o">=</span> <span class="n">poisson</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span> <span class="c"># Alle sannsynlighetene f.o.m. 0 mål, t.o.m. 8 mål</span>

<span class="nb">sum</span><span class="p">(</span><span class="n">maal</span><span class="p">)</span> <span class="c"># Sum av sannsynlighetene</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">maal</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Geometrisk">Geometrisk<a class="anchor-link" href="#Geometrisk">&#182;</a></h2><p>PCen din har problemer med å koble på universitetets nettverk. Du skrur av og på WiFi på maskinen til du får koblet til. For hvert forsøk er det 34% sannsynlig at du får koblet til. Hva er sannsynligheten for at du får koblet til på mindre enn 3 forsøk?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">geom</span>

<span class="n">tilkobling</span> <span class="o">=</span> <span class="n">geom</span><span class="o">.</span><span class="n">pmf</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mf">0.34</span><span class="p">)</span> <span class="c"># Sannsynligheter for 1 og 2 tilkoblinger.</span>

<span class="nb">print</span><span class="p">(</span><span class="s">&#39;P(3 eller mindre tilkoblinger):&#39;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">(</span><span class="n">tilkobling</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Forventning:&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mf">0.34</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">geom</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span> <span class="mf">0.34</span><span class="p">))</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Negativ-binomisk">Negativ binomisk<a class="anchor-link" href="#Negativ-binomisk">&#182;</a></h2><p>Du er telefonselger, og får en bonus hvis du skaffer 5 nye kunder til Mirakelpiller AS iløpet av en time. Det er 20% sjanse for at en samtale resulterer i kjøp.</p>
<p>Hva er sannsynligheten for at du får solgt 5 mirakelpiller hvis du ringer til 15 personer i alt?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">nbinom</span>

<span class="n">fem_salg</span> <span class="o">=</span> <span class="n">nbinom</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">fem_salg</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">Series</span><span class="p">(</span><span class="n">nbinom</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span> <span class="mf">0.2</span><span class="p">))</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>

				<hr>
				<div class="fb-comments" data-numposts="5" data-width="600"></div>
			</section>
		</div>

		<div class="row">
			<div class="col-sm-12">
					<hr>
					<p class="text-center">
						<small>Laget v&aring;ren 2016, som prosjektoppgave i MA-155 Statistikk ved UiA av Olav Andreas Lindekleiv</small>
					</p>
					<hr>
			</div>
		</div>
	</div>
	</body>
</html>